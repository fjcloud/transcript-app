<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Transcription - Red Hat</title>
    <!-- PatternFly CSS -->
    <link rel="stylesheet" href="https://unpkg.com/@patternfly/patternfly@5/patternfly.css">
    <link rel="stylesheet" href="https://unpkg.com/@patternfly/patternfly@5/patternfly-addons.css">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="pf-v5-c-page">
        <!-- Header -->
        <header class="pf-v5-c-masthead" id="page-masthead">
            <div class="pf-v5-c-masthead__main">
                <div class="pf-v5-c-masthead__brand">
                    <div class="pf-v5-c-brand">
                        <span class="pf-v5-c-title pf-m-2xl">üéôÔ∏è Audio Transcription</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main content -->
        <div class="pf-v5-c-page__main">
            <section class="pf-v5-c-page__main-section pf-m-light">
                <div class="pf-v5-l-grid pf-m-gutter">
                    <div class="pf-v5-l-grid__item pf-m-12-col">
                        <div class="pf-v5-c-content">
                            <h1>Audio Transcription Service</h1>
                            <p>Record or upload audio to transcribe with Whisper AI and generate summaries with LLM</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="pf-v5-c-page__main-section">
                <div class="pf-v5-l-grid pf-m-gutter">
                    <!-- Record Audio Card -->
                    <div class="pf-v5-l-grid__item pf-m-12-col pf-m-6-col-on-lg">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__title">
                                <h2 class="pf-v5-c-title pf-m-lg">
                                    <span class="pf-v5-c-icon pf-m-lg">
                                        <i class="fas fa-microphone"></i>
                                    </span>
                                    Record Audio
                                </h2>
                            </div>
                            <div class="pf-v5-c-card__body">
                                <div class="record-section">
                                    <button id="recordBtn" class="pf-v5-c-button pf-m-primary pf-m-block">
                                        <span class="btn-icon">‚è∫</span>
                                        <span class="btn-text">Start Recording</span>
                                    </button>
                                    <div id="recordingStatus" class="status-message"></div>
                                    <div id="recordingTime" class="recording-time"></div>
                                    <audio id="audioPlayback" controls style="display: none; width: 100%; margin-top: 1rem;"></audio>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Upload Audio Card -->
                    <div class="pf-v5-l-grid__item pf-m-12-col pf-m-6-col-on-lg">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__title">
                                <h2 class="pf-v5-c-title pf-m-lg">
                                    <span class="pf-v5-c-icon pf-m-lg">
                                        <i class="fas fa-upload"></i>
                                    </span>
                                    Upload Audio File
                                </h2>
                            </div>
                            <div class="pf-v5-c-card__body">
                                <div class="upload-section">
                                    <input type="file" id="fileInput" accept=".wav,audio/wav" style="display: none;">
                                    <button id="uploadBtn" class="pf-v5-c-button pf-m-secondary pf-m-block">
                                        <span class="btn-icon">üìÅ</span>
                                        <span class="btn-text">Choose WAV File</span>
                                    </button>
                                    <div id="fileName" class="file-name"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Transcribe Section -->
                    <div id="transcribeSection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__body">
                                <div class="pf-v5-c-form">
                                    <div class="pf-v5-c-form__group">
                                        <label class="pf-v5-c-form__label" for="languageSelect">
                                            <span class="pf-v5-c-form__label-text">üåç Output Language</span>
                                            <span class="pf-v5-c-form__label-required" aria-hidden="true"></span>
                                        </label>
                                        <div class="pf-v5-c-form__helper-text">
                                            <div class="pf-v5-c-helper-text">
                                                <div class="pf-v5-c-helper-text__item pf-m-dynamic">
                                                    <span class="pf-v5-c-helper-text__item-text">Select the language for the transcription output. The audio language will be automatically detected.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <select id="languageSelect" class="pf-v5-c-form-control">
                                            <option value="">Auto-detect (transcribe in original language)</option>
                                            <option value="en">English</option>
                                            <option value="fr">Fran√ßais</option>
                                            <option value="es">Espa√±ol</option>
                                            <option value="de">Deutsch</option>
                                            <option value="it">Italiano</option>
                                            <option value="pt">Portugu√™s</option>
                                            <option value="nl">Nederlands</option>
                                            <option value="pl">Polski</option>
                                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                                            <option value="zh">‰∏≠Êñá</option>
                                            <option value="ja">Êó•Êú¨Ë™û</option>
                                            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                                            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                                            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                                            <option value="tr">T√ºrk√ße</option>
                                        </select>
                                    </div>
                                    <button id="transcribeBtn" class="pf-v5-c-button pf-m-primary pf-m-block">
                                        <span class="btn-icon">‚ú®</span>
                                        <span class="btn-text">Transcribe Audio</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Loading Section -->
                    <div id="loadingSection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__body text-center">
                                <div class="pf-v5-c-spinner pf-m-lg" role="progressbar">
                                    <span class="pf-v5-c-spinner__clipper"></span>
                                    <span class="pf-v5-c-spinner__lead-ball"></span>
                                    <span class="pf-v5-c-spinner__tail-ball"></span>
                                </div>
                                <p class="loading-text">Transcribing audio...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Transcription Result -->
                    <div id="resultSection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__title">
                                <h2 class="pf-v5-c-title pf-m-lg">
                                    <span class="pf-v5-c-icon pf-m-lg">‚úÖ</span>
                                    Transcription Result
                                </h2>
                            </div>
                            <div class="pf-v5-c-card__body">
                                <div class="pf-v5-c-code-block">
                                    <div class="pf-v5-c-code-block__content">
                                        <pre id="transcriptionText" class="pf-v5-c-code-block__pre transcription-text"></pre>
                                    </div>
                                </div>
                            </div>
                            <div class="pf-v5-c-card__footer">
                                <div class="pf-v5-c-button-group">
                                    <button id="summarizeBtn" class="pf-v5-c-button pf-m-primary">
                                        <span class="btn-icon">üìù</span>
                                        <span class="btn-text">Summarize</span>
                                    </button>
                                    <button id="copyBtn" class="pf-v5-c-button pf-m-secondary">
                                        <span class="btn-icon">üìã</span>
                                        <span class="btn-text">Copy to Clipboard</span>
                                    </button>
                                    <button id="newTranscriptionBtn" class="pf-v5-c-button pf-m-secondary">
                                        <span class="btn-icon">üîÑ</span>
                                        <span class="btn-text">New Transcription</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Summary Loading Section -->
                    <div id="summaryLoadingSection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__body text-center">
                                <div class="pf-v5-c-spinner pf-m-lg" role="progressbar">
                                    <span class="pf-v5-c-spinner__clipper"></span>
                                    <span class="pf-v5-c-spinner__lead-ball"></span>
                                    <span class="pf-v5-c-spinner__tail-ball"></span>
                                </div>
                                <p class="loading-text">Generating summary...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Summary Result -->
                    <div id="summarySection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-card">
                            <div class="pf-v5-c-card__title">
                                <h2 class="pf-v5-c-title pf-m-lg">
                                    <span class="pf-v5-c-icon pf-m-lg">üìù</span>
                                    Summary
                                </h2>
                            </div>
                            <div class="pf-v5-c-card__body">
                                <div class="pf-v5-c-code-block">
                                    <div class="pf-v5-c-code-block__content">
                                        <pre id="summaryText" class="pf-v5-c-code-block__pre summary-text"></pre>
                                    </div>
                                </div>
                            </div>
                            <div class="pf-v5-c-card__footer">
                                <button id="copySummaryBtn" class="pf-v5-c-button pf-m-secondary">
                                    <span class="btn-icon">üìã</span>
                                    <span class="btn-text">Copy Summary</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Error Section -->
                    <div id="errorSection" class="pf-v5-l-grid__item pf-m-12-col" style="display: none;">
                        <div class="pf-v5-c-alert pf-m-danger pf-m-inline" aria-label="Danger alert">
                            <div class="pf-v5-c-alert__icon">
                                <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
                            </div>
                            <h4 class="pf-v5-c-alert__title">
                                <span class="pf-v5-screen-reader">Danger alert:</span>
                                Error
                            </h4>
                            <div class="pf-v5-c-alert__description">
                                <p id="errorMessage"></p>
                            </div>
                            <div class="pf-v5-c-alert__action">
                                <button id="dismissErrorBtn" class="pf-v5-c-button pf-m-plain" type="button" aria-label="Close danger alert">
                                    <i class="fas fa-times" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <section class="pf-v5-c-page__main-section pf-m-light">
                <div class="pf-v5-c-content text-center">
                    <p>Powered by Whisper AI and Red Hat OpenShift AI</p>
                </div>
            </section>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
